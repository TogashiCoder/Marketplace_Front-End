<div class="container" *ngIf="sellerData">
  <div class="seller-info">
    <div class="seller-avatar" [style.background-image]="'url(' + sellerData.profileImageUrl + ')'">
      <span *ngIf="!sellerData.profileImageUrl">{{ sellerData.name.slice(0, 2) }}</span>
    </div>
    <div class="seller-details">
      <h1>{{ sellerData.name }}</h1>
      <div class="seller-rating">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="star-icon" width="20" height="20">
          <path fill-rule="evenodd" d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z" clip-rule="evenodd" />
        </svg>
        <span class="rating-value">{{ sellerData.overallRating.toFixed(1) }}</span>
        <span class="review-count">({{ sellerData.totalReviews }} reviews)</span>
      </div>
    </div>
  </div>

  <div class="content-grid">
    <div>
      <h2 class="section-title">Rating Distribution</h2>
      <div *ngFor="let rating of sellerData.ratingDistribution" class="rating-bar">
        <span class="star-label">{{ rating.stars }} star</span>
        <div class="progress-bar">
          <div class="progress-fill" [style.width]="rating.percentage + '%'"></div>
        </div>
        <span class="percentage">{{ rating.percentage }}%</span>
      </div>
    </div>

    <div>
      <h2 class="section-title">Product Ratings</h2>
      <details *ngFor="let product of sellerData.productRatings" class="product-item">
        <summary class="product-summary">
          <span class="product-name">{{ product.name }}</span>
          <div class="product-rating">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="star-icon" width="16" height="16">
              <path fill-rule="evenodd" d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z" clip-rule="evenodd" />
            </svg>
            <span>{{ product.rating.toFixed(1) }}</span>
            <span class="review-count">({{ product.reviews }})</span>
          </div>
        </summary>
        <div class="product-details">
          <p>
            This product has received {{ product.reviews }} reviews with an average rating of {{ product.rating.toFixed(1) }} stars.
          </p>
          <a [routerLink]="['/shop/product/details', product.id]" class="view-reviews-btn">
            View all reviews
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="chevron-icon" width="16" height="16">
              <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
            </svg>
          </a>
        </div>
      </details>
    </div>
  </div>
</div>
